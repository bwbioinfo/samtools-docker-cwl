name: Test Singularity Image
on:
  registry_package:
    types: [published]
jobs:
  build-and-push:
    runs-on: ubuntu-latest
    steps:
    - uses: eWaterCycle/setup-singularity@v7
      with:
        singularity-version: 3.6.4
    - name: Pull Singularity image
      run: singularity pull docker://ghcr.io/${{ env.REPO_OWNER }}/${{ env.REPO_NAME }}:latest